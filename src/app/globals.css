@import "tailwindcss";

/* ──────────────────────────────────────────────
   Design System — Rumi's Magic Cookbook
   ────────────────────────────────────────────── */

@theme {
  /* Brand: Coral (primary) */
  --color-coral: #FF6B8A;
  --color-coral-light: #FF9BB3;
  --color-coral-dark: #E84D6E;

  /* Brand: Lavender (secondary) */
  --color-lavender: #B8A9E8;
  --color-lavender-light: #D4C9F0;
  --color-lavender-dark: #9682D6;

  /* Brand: Teal / Axolotl accent */
  --color-teal: #5CD6C8;
  --color-teal-light: #8AE8DD;
  --color-teal-dark: #3DBFB0;

  /* Warm neutrals */
  --color-cream: #FFF8F0;
  --color-paper: #FEF3E8;
  --color-warm-gray: #B8A99A;
  --color-charcoal: #3D3228;

  /* Pop colors */
  --color-golden: #FFD166;
  --color-sky: #73BFFF;
  --color-leaf: #7ED68A;
  --color-sunset: #FF8C42;

  /* Font stacks (CSS vars injected by next/font in layout.tsx) */
  --font-display: var(--font-baloo), 'Baloo 2', cursive;
  --font-body: var(--font-nunito), 'Nunito', sans-serif;

  /* Radii */
  --radius-sm: 0.5rem;
  --radius-md: 0.75rem;
  --radius-lg: 1rem;
  --radius-xl: 1.25rem;
  --radius-pill: 9999px;

  /* Shadows */
  --shadow-soft: 0 4px 20px rgba(184, 169, 232, 0.15);
  --shadow-hover: 0 8px 30px rgba(255, 107, 138, 0.2);
  --shadow-glow: 0 0 20px rgba(92, 214, 200, 0.3);

  /* Animation tokens — Tailwind v4 generates animate-* utilities */
  --animate-bounce-soft: bounce-soft 0.5s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  --animate-shimmer: shimmer 1.8s linear infinite;
  --animate-float: float 6s ease-in-out infinite;
  --animate-entrance: card-entrance 0.35s cubic-bezier(0.22, 1, 0.36, 1) both;
  --animate-chip-pop: chip-pop 0.2s cubic-bezier(0.34, 1.56, 0.64, 1) both;
  --animate-chip-poof: chip-poof 0.18s ease-in both;
  --animate-pulse-soft: pulse-soft 2s ease-in-out infinite;

  /* Phase 2 — Mascot & feedback animations */
  --animate-orbit: orbit 2.4s linear infinite;
  --animate-sparkle-rise: sparkle-rise 0.7s ease-out forwards;
  --animate-wave: wave 1s ease-in-out infinite;
  --animate-zzz-float: zzz-float 2s ease-in-out infinite;
  --animate-confetti-fall: confetti-fall 2.5s ease-in forwards;
  --animate-toast-in: toast-in 0.35s cubic-bezier(0.22, 1, 0.36, 1) forwards;
  --animate-toast-out: toast-out 0.25s ease-in forwards;
  --animate-progress-fill: progress-fill 15s ease-out forwards;
  --animate-fade-cycle: fade-cycle 0.5s ease-in-out;
  --animate-fade-in: fade-in 0.4s ease-out forwards;
  --animate-paint-stroke: paint-stroke 1.2s ease-in-out infinite;
}

/* ── Keyframes ── */

@keyframes bounce-soft {
  0%, 100% { transform: translateY(0); }
  40% { transform: translateY(-6px); }
  60% { transform: translateY(-3px); }
}

@keyframes shimmer {
  from { background-position: -200% center; }
  to { background-position: 200% center; }
}

@keyframes float {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  33% { transform: translateY(-12px) rotate(3deg); }
  66% { transform: translateY(4px) rotate(-2deg); }
}

@keyframes card-entrance {
  from { opacity: 0; transform: translateY(12px) scale(0.97); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}

@keyframes chip-pop {
  from { opacity: 0; transform: scale(0.7); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes chip-poof {
  from { opacity: 1; transform: scale(1); }
  to { opacity: 0; transform: scale(0.6); }
}

@keyframes pulse-soft {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.6; }
}

/* Phase 2 — Mascot & feedback keyframes */

@keyframes orbit {
  from { transform: rotate(0deg) translateX(120%) rotate(0deg); }
  to { transform: rotate(360deg) translateX(120%) rotate(-360deg); }
}

@keyframes sparkle-rise {
  0% { opacity: 1; transform: translateY(0) scale(1); }
  100% { opacity: 0; transform: translateY(-24px) scale(0.3); }
}

@keyframes wave {
  0%, 100% { transform: rotate(0deg); }
  25% { transform: rotate(20deg); }
  75% { transform: rotate(-15deg); }
}

@keyframes zzz-float {
  0% { opacity: 0; transform: translateY(0) translateX(0); }
  30% { opacity: 1; }
  100% { opacity: 0; transform: translateY(-20px) translateX(8px); }
}

@keyframes confetti-fall {
  0% { transform: translateY(-10vh) rotate(0deg); opacity: 1; }
  80% { opacity: 1; }
  100% { transform: translateY(100vh) rotate(var(--confetti-spin, 720deg)); opacity: 0; }
}

@keyframes toast-in {
  from { opacity: 0; transform: translateY(-100%) scale(0.95); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}

@keyframes toast-out {
  from { opacity: 1; transform: translateY(0) scale(1); }
  to { opacity: 0; transform: translateY(-100%) scale(0.95); }
}

@keyframes progress-fill {
  from { width: 5%; }
  to { width: 95%; }
}

@keyframes fade-cycle {
  0% { opacity: 0; transform: translateY(6px); }
  100% { opacity: 1; transform: translateY(0); }
}

@keyframes fade-in {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes paint-stroke {
  0%, 100% { transform: rotate(-5deg); }
  50% { transform: rotate(10deg); }
}

/* ── Base layer ── */

@layer base {
  html {
    scroll-behavior: smooth;
  }

  body {
    background-color: var(--color-cream);
    color: var(--color-charcoal);
    font-family: var(--font-body);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  h1, h2, h3, h4 {
    font-family: var(--font-display);
  }
}

/* ── Utility layer ── */

@layer utilities {
  .btn-bounce:active:not(:disabled) {
    animation: var(--animate-bounce-soft);
  }

  .scrollbar-none {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-none::-webkit-scrollbar {
    display: none;
  }

  .shimmer-gradient {
    background: linear-gradient(
      90deg,
      var(--color-paper) 0%,
      var(--color-lavender-light) 50%,
      var(--color-paper) 100%
    );
    background-size: 200% auto;
  }
}

/* ── Reduced motion ── */

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
